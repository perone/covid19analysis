

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>COVID-19 Analysis for Portugal &#8212; covid19analysis 0.1 documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link href="_static/css/index.css" rel="stylesheet">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10/May – COVID-19 Time varying reproduction numbers estimation for Portugal" href="portugal_r0.html" />
    <link rel="prev" title="04/May – Symptom onset to confirmation delay estimation for states in Brazil" href="brazil_onset_delay.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="index.html">
      <img src="_static/logo.png" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="brazil.html">COVID-19 Analysis for Brazil</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="brazil_r0.html">09/May – COVID-19 Time varying reproduction numbers estimation for Brazil</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="brazil_onset_delay.html">04/May – Symptom onset to confirmation delay estimation for states in Brazil</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="">COVID-19 Analysis for Portugal</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="portugal_r0.html">10/May – COVID-19 Time varying reproduction numbers estimation for Portugal</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://perone.github.io/covid19analysis">Main<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/perone/covid19analysis" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/tarantulae" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
        
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#portugal-country-wide-analysis" class="nav-link">Portugal: country-wide analysis</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#bayesian-cases-changepoint-modelling" class="nav-link">Bayesian cases changepoint modelling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#april-modelling-icu-occupancy-in-portugal" class="nav-link">05/April – Modelling ICU occupancy in Portugal</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#april-changepoint-detection-for-covid-19-confirmed-cases" class="nav-link">08/April – Changepoint detection for COVID-19 confirmed cases</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#april-high-resolution-elderly-population-density-in-portugal" class="nav-link">21/April – High-resolution elderly population density in Portugal</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="covid-19-analysis-for-portugal">
<h1>COVID-19 Analysis for Portugal<a class="headerlink" href="#covid-19-analysis-for-portugal" title="Permalink to this headline">¶</a></h1>
<p>This section contains analysis done for Portugal.</p>
<div class="section" id="portugal-country-wide-analysis">
<h2>Portugal: country-wide analysis<a class="headerlink" href="#portugal-country-wide-analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bayesian-cases-changepoint-modelling">
<span id="changepointmodelling"></span><h3>Bayesian cases changepoint modelling<a class="headerlink" href="#bayesian-cases-changepoint-modelling" title="Permalink to this headline">¶</a></h3>
<p>The changepoint analysis is basically the same as
described <a class="reference external" href="https://cscherrer.github.io/post/bayesian-changepoint/">in this article</a>,
where the switchpoint is modelled by a discrete uniform distribution that parametrizes
an early <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> parameters of an exponential model using
a negative binomial likelihood.</p>
<p>The priors of the model are these:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{rcl}
\text{switchpoint} &amp;\sim &amp; \text{DiscreteUniform}(\mathit{lower}=f(f()),~\mathit{upper}=f(f()))\\\text{alpha_mu} &amp;\sim &amp; \text{Normal}(\mathit{mu}=0.0,~\mathit{sigma}=6.0)\\\text{early_alpha} &amp;\sim &amp; \text{Normal}(\mathit{mu}=\text{alpha_mu},~\mathit{sigma}=6.0)\\\text{late_alpha} &amp;\sim &amp; \text{Normal}(\mathit{mu}=\text{alpha_mu},~\mathit{sigma}=6.0)\\\text{beta_mu} &amp;\sim &amp; \text{Normal}(\mathit{mu}=0.0,~\mathit{sigma}=6.0)\\\text{early_beta} &amp;\sim &amp; \text{Normal}(\mathit{mu}=\text{beta_mu},~\mathit{sigma}=6.0)\\\text{late_beta} &amp;\sim &amp; \text{Normal}(\mathit{mu}=\text{beta_mu},~\mathit{sigma}=6.0)\\\text{sigma} &amp;\sim &amp; \text{HalfCauchy}(\mathit{beta}=50.0)\\\text{y} &amp;\sim &amp; \text{NegativeBinomial}(\mathit{mu}=f(f(f(f(\text{switchpoint}),~array),~f(\text{early_alpha}),~f(\text{late_alpha})),~f(f(f(f(f(\text{switchpoint}),~array),~f(\text{early_beta}),~f(\text{late_beta})),~\text{data_x}))),~\mathit{alpha}=\text{sigma})
\end{array}\end{split}\]</div>
<p>The main idea of the model is that we want to learn a distribution over a discrete
switchpoint represented by days to identify where the coefficient of growth
changed and what was the early and late coefficient.</p>
</div>
<div class="section" id="april-modelling-icu-occupancy-in-portugal">
<h3><strong>05/April</strong> – Modelling ICU occupancy in Portugal<a class="headerlink" href="#april-modelling-icu-occupancy-in-portugal" title="Permalink to this headline">¶</a></h3>
<p>This is a short animation showing ICU occupancy forecast for the days before
April 5th. After that date, the model started to become misspecified due to
potential intervention effects or change of criteria/procedures from
the portuguese government.</p>
    <video controls width="740">
<source src="_static/pt/icu_forecast_pt.mp4"
        type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
    </video></div>
<div class="section" id="april-changepoint-detection-for-covid-19-confirmed-cases">
<h3><strong>08/April</strong> – Changepoint detection for COVID-19 confirmed cases<a class="headerlink" href="#april-changepoint-detection-for-covid-19-confirmed-cases" title="Permalink to this headline">¶</a></h3>
<p>This is a changepoint analysis done with data up to April 8th. As we know, recently
there was a reduction of new cases. All evidence shows that what we’re seeing is
effect of interventions, however, the question that this analysis tries to answer
is when can we say that we had a change in the growth factor ? It seems that
the most likely date that this happened was on March 30th, 14 days after the closure
of the schools in Portugal.</p>
<a class="reference internal image-reference" href="_images/changepoint_apr8.png"><img alt="_images/changepoint_apr8.png" src="_images/changepoint_apr8.png" style="width: 700px;" /></a>
<div class="alert alert-info">
<p class="admonition-title">See also</p>
<p>This model uses the modelling approach described at <a class="reference internal" href="#changepointmodelling"><span class="std std-ref">Bayesian cases changepoint modelling</span></a>.</p>
</div>
</div>
<div class="section" id="april-high-resolution-elderly-population-density-in-portugal">
<h3><strong>21/April</strong> – High-resolution elderly population density in Portugal<a class="headerlink" href="#april-high-resolution-elderly-population-density-in-portugal" title="Permalink to this headline">¶</a></h3>
<p>Just made a map of the elderly (&gt;=60) population density in Portugal using Facebook’s
high-resolution population maps (30 meters level resolution) with population allocation
estimation using satellite imagery + machine learning. Working on an interactive version of it.</p>
<p>Click on it for a high-resolution version.</p>
<a class="reference internal image-reference" href="_images/pt_map_elderly_density.png"><img alt="_images/pt_map_elderly_density.png" src="_images/pt_map_elderly_density.png" style="width: 700px;" /></a>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="brazil_onset_delay.html" title="previous page"><strong>04/May</strong> – Symptom onset to confirmation delay estimation for states in Brazil</a>
    <a class='right-next' id="next-link" href="portugal_r0.html" title="next page"><strong>10/May</strong> – COVID-19 Time varying reproduction numbers estimation for Portugal</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020, Christian S. Perone.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-30560129-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>